<div class="container">
  <div *ngIf="invoiceId" class="w-100">
    <h2>Edit Invoice</h2>
    <div class="w-100">
      <a> Invoice issue date: {{ issueDate | date:'medium'}}</a>
      <button (click)="deleteInvoice()" class="btn btn-danger" style="float: right;">Delete</button>
    </div>
  </div>

  <h2 *ngIf="!invoiceId">Add New Invoice</h2>

  <form [formGroup]="invoiceForm" (ngSubmit)="onSubmit()" class="form-group">
    <div>
      <label for="customerName">Customer Name:</label>
      <input type="text" id="customerName" formControlName="customerName" class="form-control">
      <div
        *ngIf="invoiceForm?.controls?.customerName?.invalid && (invoiceForm?.controls?.customerName?.dirty || invoiceForm?.controls?.customerName?.touched)">
        <div *ngIf="invoiceForm?.controls?.customerName?.errors?.required">Customer name is required</div>
      </div>
    </div>

    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" formControlName="email" class="form-control">
      <div
        *ngIf="invoiceForm?.controls?.email?.invalid && (invoiceForm?.controls?.email?.dirty || invoiceForm?.controls?.email?.touched)">
        <div *ngIf="invoiceForm?.controls?.email?.errors?.email">Invalid email address</div>
      </div>
    </div>

    <div>
      <label for="phone">Phone:</label>
      <input type="tel" id="phone" formControlName="phone" class="form-control">
      <div
        *ngIf="invoiceForm?.controls?.phone?.invalid && (invoiceForm?.controls?.phone?.dirty || invoiceForm?.controls?.phone?.touched)">
        <div *ngIf="invoiceForm?.controls?.phone?.errors?.required">Phone number is required</div>
      </div>
    </div>

    <div>
      <label for="amount">Amount:</label>
      <input type="number" id="amount" formControlName="amount" class="form-control">
      <div
        *ngIf="invoiceForm?.controls?.amount?.invalid && (invoiceForm?.controls?.amount?.dirty || invoiceForm?.controls?.amount?.touched)">
        <div *ngIf="invoiceForm?.controls?.amount?.errors?.required">Amount is required</div>
      </div>
    </div>

    <div>
      <label for="status">Status:</label>
      <select formControlName="status" class="form-select">
        <option *ngFor="let statusOption of statusOptions">{{ statusOption }}</option>
      </select>
      <div
        *ngIf="invoiceForm?.controls?.status?.invalid && (invoiceForm?.controls?.status?.dirty || invoiceForm?.controls?.status?.touched)">
        <div *ngIf="invoiceForm?.controls?.status?.errors?.required">Status is required</div>
      </div>
    </div>

    <div>
      <button class="btn btn-primary" *ngIf="invoiceId" type="submit" [disabled]="invoiceForm.invalid">Update</button>
      <button class="btn btn-primary" *ngIf="!invoiceId" type="submit" [disabled]="invoiceForm.invalid">Add</button>
    </div>

  </form>
</div>